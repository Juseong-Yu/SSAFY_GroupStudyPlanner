<!-- src/components/layout/TopNavBar.vue -->
<template>
  <nav class="navbar navbar-light bg-white border-bottom fixed-top shadow-sm topbar">
    <div class="container-fluid">
      <!-- ì™¼ìª½: í–„ë²„ê±° ë²„íŠ¼ + ë¡œê³  + íƒ€ì´í‹€ -->
      <div class="d-flex align-items-center gap-2">
        <!-- í–„ë²„ê±° ë²„íŠ¼ -->
        <button
          class="btn btn-outline-secondary"
          type="button"
          aria-label="ì‚¬ì´ë“œë°” ì—´ê³  ë‹«ê¸°"
          :aria-expanded="ui.sidebarOpen ? 'true' : 'false'"
          aria-controls="leftSidebar"
          @click="ui.toggleSidebar"
        >
          <i class="bi" :class="ui.sidebarOpen ? 'bi-x-lg' : 'bi-list'"></i>
        </button>

        <!-- ğŸ”¥ ë¡œê³  + í…ìŠ¤íŠ¸ë¥¼ RouterLinkë¡œ ê°ì‹¸ê¸° -->
        <RouterLink
          to="/main"
          class="d-flex align-items-center gap-2 text-decoration-none"
        >
          <!-- ë¡œê³  -->
          <img
            src="@/assets/logo.png"
            alt="logo"
            width="40"
            height="40"
            class="me-1"
          />

          <!-- íƒ€ì´í‹€ -->
          <span class="navbar-brand mb-0 h1 fs-5 fw-semibold text-dark">
            Group Study Planner
          </span>
        </RouterLink>
      </div>
    </div>
  </nav>
</template>

<script setup lang="ts">
import { onMounted, onBeforeUnmount } from 'vue'
import { useUiStore } from '@/stores/ui'
import { RouterLink } from 'vue-router'

const ui = useUiStore()

onMounted(() => {
  const topbarHeight = 56
  document.documentElement.style.setProperty('--topbar-height', `${topbarHeight}px`)
  window.addEventListener('resize', ui.handleResize)
})

onBeforeUnmount(() => {
  window.removeEventListener('resize', ui.handleResize)
})
</script>

<style scoped>
.topbar {
  height: var(--topbar-height, 56px);
}

/* ë§í¬ ìŠ¤íƒ€ì¼ì´ ê¸°ë³¸ bootstrapì— ì¡íˆì§€ ì•Šë„ë¡ */
a {
  color: inherit;
}
a:hover {
  color: inherit;
  text-decoration: none;
}

/* ë²„íŠ¼ hover íš¨ê³¼ */
button.btn {
  transition: background-color 0.2s, color 0.2s;
}
</style>
